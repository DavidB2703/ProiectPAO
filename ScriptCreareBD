-- POSIBIL SA FIE ERORI


CREATE TABLE ARTIST (
    ID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    GENMUZICAL VARCHAR(100) NOT NULL,
    VARSTA INTEGER NOT NULL
);

CREATE TABLE CONCERT (
    ID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NUME VARCHAR(100) NOT NULL,
    LOCATIE VARCHAR(100) NOT NULL,
    DATA VARCHAR(100) NOT NULL,
    ORA VARCHAR(100) NOT NULL,
    -- id artist foreign key
    ID_ARTIST INTEGER NOT NULL,
    FOREIGN KEY (ID_ARTIST) REFERENCES ARTIST(ID)
);

CREATE TABLE FAN_MEEETING (
    ID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NUME VARCHAR(100) NOT NULL,
    LOCATIE VARCHAR(100) NOT NULL,
    DATA VARCHAR(100) NOT NULL,
    DURATA VARCHAR(100) NOT NULL,
    -- id artist foreign key
    ID_ARTIST INTEGER NOT NULL,
    FOREIGN KEY (ID_ARTIST) REFERENCES ARTIST(ID)
);

CREATE TABLE PETRECERE (
    ID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NUME VARCHAR(100) NOT NULL,
    LOCATIE VARCHAR(100) NOT NULL,
    DATA VARCHAR(100) NOT NULL,
    DJ VARCHAR(100) NOT NULL,
    ORA_INCEPERE VARCHAR(100) NOT NULL
);
-- intre festival si artist este o relatie many to many
CREATE TABLE FESTIVAL (
    ID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,
    NUME VARCHAR(100) NOT NULL,
    LOCATIE VARCHAR(100) NOT NULL,
    DATA VARCHAR(100) NOT NULL,
    NUMAR_ARTISTI INTEGER NOT NULL,
    NUMAR_ZILE INTEGER NOT NULL,
    PRET_BILET_PE_ZI INTEGER NOT NULL
);

CREATE TABLE PARTICIPA(
    ID_ARTIST INTEGER NOT NULL,
    ID_FESTIVAL INTEGER NOT NULL,
    CONSTRAINT pk_participa PRIMARY KEY (ID_ARTIST, ID_FESTIVAL),
    FOREIGN KEY (ID_ARTIST) REFERENCES ARTIST(ID),
    FOREIGN KEY (ID_FESTIVAL) REFERENCES FESTIVAL(ID)
);

ALTER TABLE CONCERT ADD COLUMN PRET_BILET INTEGER;
ALTER TABLE fan_meeting ADD COLUMN PRET_BILET INTEGER;
ALTER TABLE PETRECERE ADD COLUMN PRET_BILET INTEGER;
ALTER TABLE FESTIVAL ADD COLUMN PRET_BILET INTEGER;